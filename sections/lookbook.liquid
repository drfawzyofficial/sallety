{%- comment -%}
  Sallety Theme — Lookbook Section
  Premium lookbook with hotspot product cards, RTL/LTR,
  responsive design, and comprehensive customizer settings.
{%- endcomment -%}

{%- capture section_dir -%}{%- render 'section-dir' -%}{%- endcapture -%}
{%- assign section_dir = section_dir | strip -%}

{%- liquid
  assign scheme_number = section.settings.color_scheme.id | remove: 'scheme-'
  assign lb_heading = section.settings.heading
  assign lb_subheading = section.settings.subheading
  assign lb_image = section.settings.image
  assign lb_layout = section.settings.layout | default: 'full_image'
  assign lb_text_align = section.settings.text_alignment | default: 'center'
  assign lb_heading_size = section.settings.heading_size | default: 'medium'
  assign lb_full_width = section.settings.full_width
  assign lb_image_height = section.settings.image_height | default: 'auto'
  assign lb_overlay = section.settings.overlay_opacity | default: 0
  assign lb_corner = section.settings.corner_radius | default: 16
  assign lb_show_decor = section.settings.show_decoration
  assign lb_card_style = section.settings.card_style | default: 'glass'
  assign lb_hotspot_color = section.settings.hotspot_color | default: ''
  assign lb_hotspot_size = section.settings.hotspot_size | default: 'medium'
  assign lb_bg_color = section.settings.background_color | default: ''
  assign lb_heading_color = section.settings.heading_color | default: ''
  assign lb_subheading_color = section.settings.subheading_color | default: ''
  assign lb_pt = section.settings.padding_top | default: 60
  assign lb_pb = section.settings.padding_bottom | default: 60
  assign lb_btn_text = section.settings.button_text
  assign lb_btn_link = section.settings.button_link
-%}

{%- case lb_heading_size -%}
  {%- when 'small' -%}
    {%- assign hs_class = 'lb-heading--sm' -%}
  {%- when 'large' -%}
    {%- assign hs_class = 'lb-heading--lg' -%}
  {%- when 'xlarge' -%}
    {%- assign hs_class = 'lb-heading--xl' -%}
  {%- else -%}
    {%- assign hs_class = 'lb-heading--md' -%}
{%- endcase -%}

{%- case lb_hotspot_size -%}
  {%- when 'small' -%}
    {%- assign hs_size = '32px' -%}
  {%- when 'large' -%}
    {%- assign hs_size = '52px' -%}
  {%- else -%}
    {%- assign hs_size = '42px' -%}
{%- endcase -%}

<section
  id="lookbook-{{ section.id }}"
  class="lb-section lb-section--{{ lb_layout }}{% if lb_full_width %} lb-section--full{% endif %} color-scheme-{{ scheme_number }}"
  dir="{{ section_dir }}"
  data-section-id="{{ section.id }}"
  data-section-type="lookbook"
  style="
    --lb-pt: {{ lb_pt }}px;
    --lb-pb: {{ lb_pb }}px;
    --lb-corner: {{ lb_corner }}px;
    --lb-hotspot-size: {{ hs_size }};
    --lb-hotspot-color: {{ lb_hotspot_color | default: 'var(--color-primary, #1a2744)' }};
    --lb-bg: {{ lb_bg_color | default: 'var(--color-background, #ffffff)' }};
    --lb-heading-color: {{ lb_heading_color | default: 'var(--color-foreground, #1a1a1a)' }};
    --lb-sub-color: {{ lb_subheading_color | default: 'var(--color-secondary, #6b7280)' }};
  "
>
  {%- comment -%} ── Decorative background ── {%- endcomment -%}
  {%- if lb_show_decor -%}
    <div class="lb-decor" aria-hidden="true">
      <svg
        viewBox="0 0 1440 400"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
        preserveAspectRatio="xMidYMid slice"
        class="lb-decor__svg"
      >
        <circle cx="120" cy="80" r="80" stroke="rgba(0,0,0,0.03)" stroke-width="1" fill="none"/>
        <circle cx="1350" cy="300" r="100" stroke="rgba(0,0,0,0.03)" stroke-width="1" fill="none"/>
        <circle cx="700" cy="50" r="4" fill="rgba(0,0,0,0.04)"/>
        <circle cx="200" cy="350" r="3" fill="rgba(0,0,0,0.03)"/>
      </svg>
    </div>
  {%- endif -%}

  <div class="lb-container{% unless lb_full_width %} lb-container--constrained{% endunless %}">
    {%- comment -%} ── Header ── {%- endcomment -%}
    {%- if lb_heading != blank or lb_subheading != blank -%}
      <header class="lb-header lb-align--{{ lb_text_align }}">
        {%- if lb_heading != blank -%}
          <h2 class="lb-heading {{ hs_class }}">{{ lb_heading }}</h2>
        {%- endif -%}
        {%- if lb_subheading != blank -%}
          <p class="lb-subheading">{{ lb_subheading }}</p>
        {%- endif -%}
      </header>
    {%- endif -%}

    {%- comment -%} ── Lookbook Image with Hotspots ── {%- endcomment -%}
    <div class="lb-canvas lb-canvas--{{ lb_image_height }}">
      <div class="lb-image-wrap">
        {%- if lb_image != blank -%}
          <img
            src="{{ lb_image | image_url: width: 1600 }}"
            srcset="
              {{ lb_image | image_url: width: 600 }} 600w,
              {{ lb_image | image_url: width: 900 }} 900w,
              {{ lb_image | image_url: width: 1200 }} 1200w,
              {{ lb_image | image_url: width: 1600 }} 1600w
            "
            sizes="(max-width: 767px) 100vw, (max-width: 1023px) 90vw, {% if lb_full_width %}100vw{% else %}1320px{% endif %}"
            alt="{{ lb_heading | escape }}"
            width="1600"
            height="{{ 1600 | divided_by: lb_image.aspect_ratio | round }}"
            loading="lazy"
            class="lb-image"
          >
        {%- else -%}
          <div class="lb-placeholder">
            {{ 'lifestyle-1' | placeholder_svg_tag: 'lb-placeholder__svg' }}
          </div>
        {%- endif -%}

        {%- if lb_overlay > 0 -%}
          <div class="lb-overlay" style="opacity: {{ lb_overlay | divided_by: 100.0 }};"></div>
        {%- endif -%}

        {%- comment -%} ── Hotspots ── {%- endcomment -%}
        {%- for block in section.blocks -%}
          {%- if block.type == 'product_hotspot' -%}
            {%- assign hs_product = block.settings.product -%}
            <div
              class="lb-hotspot lb-hotspot--{{ lb_card_style }}"
              style="left: {{ block.settings.position_x }}%; top: {{ block.settings.position_y }}%;"
              data-hotspot-index="{{ forloop.index }}"
              {{ block.shopify_attributes }}
            >
              <button
                type="button"
                class="lb-hotspot__btn"
                aria-label="{{ hs_product.title | default: 'View product' | escape }}"
                aria-expanded="false"
              >
                <span class="lb-hotspot__pulse"></span>
                <svg
                  class="lb-hotspot__icon"
                  width="18"
                  height="18"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2.5"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                >
                  <line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/>
                </svg>
              </button>

              {%- if hs_product != blank -%}
                <div class="lb-card lb-card--{{ lb_card_style }}{% if block.settings.card_position != blank %} lb-card--{{ block.settings.card_position }}{% endif %}">
                  <div class="lb-card__inner">
                    {%- if hs_product.featured_image != blank -%}
                      <div class="lb-card__img-wrap">
                        <img
                          src="{{ hs_product.featured_image | image_url: width: 200 }}"
                          alt="{{ hs_product.title | escape }}"
                          width="200"
                          height="{{ 200 | divided_by: hs_product.featured_image.aspect_ratio | round }}"
                          loading="lazy"
                          class="lb-card__img"
                        >
                      </div>
                    {%- endif -%}
                    <div class="lb-card__info">
                      <h4 class="lb-card__title">{{ hs_product.title }}</h4>
                      <div class="lb-card__price">
                        {%- if hs_product.compare_at_price > hs_product.price -%}
                          <span class="lb-card__price--sale">{{ hs_product.price | money }}</span>
                          <span class="lb-card__price--compare">{{ hs_product.compare_at_price | money }}</span>
                        {%- else -%}
                          <span>{{ hs_product.price | money }}</span>
                        {%- endif -%}
                      </div>
                      <a href="{{ hs_product.url }}" class="lb-card__link">
                        {{ 'products.product.view_full_details' | t }}
                        <svg
                          width="14"
                          height="14"
                          viewBox="0 0 24 24"
                          fill="none"
                          stroke="currentColor"
                          stroke-width="2"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        >
                          <line x1="5" y1="12" x2="19" y2="12"/><polyline points="12 5 19 12 12 19"/>
                        </svg>
                      </a>
                    </div>
                  </div>
                </div>
              {%- endif -%}
            </div>
          {%- endif -%}

          {%- if block.type == 'text_label' -%}
            <div
              class="lb-label"
              style="left: {{ block.settings.position_x }}%; top: {{ block.settings.position_y }}%;"
              {{ block.shopify_attributes }}
            >
              <span class="lb-label__text">{{ block.settings.label_text }}</span>
            </div>
          {%- endif -%}
        {%- endfor -%}
      </div>
    </div>

    {%- comment -%} ── CTA Button ── {%- endcomment -%}
    {%- if lb_btn_text != blank -%}
      <div class="lb-cta lb-align--{{ lb_text_align }}">
        <a href="{{ lb_btn_link | default: '#' }}" class="lb-cta__btn btn btn--primary">
          {{ lb_btn_text }}
        </a>
      </div>
    {%- endif -%}
  </div>
</section>

{%- comment -%} ── Styles ── {%- endcomment -%}
<style>
  /* ===== Base ===== */
  .lb-section {
    position: relative;
    overflow: hidden;
    padding-block-start: var(--lb-pt);
    padding-block-end: var(--lb-pb);
    background: var(--lb-bg);
  }
  .lb-decor {
    position: absolute;
    inset: 0;
    pointer-events: none;
    z-index: 0;
    animation: lb-drift 20s ease-in-out infinite alternate;
  }
  .lb-decor__svg {
    width: 100%;
    height: 100%;
  }
  @keyframes lb-drift {
    0% {
      transform: scale(1) translateY(0);
    }
    100% {
      transform: scale(1.02) translateY(-4px);
    }
  }
  @media (prefers-reduced-motion: reduce) {
    .lb-decor {
      animation: none;
    }
  }

  /* ===== Container ===== */
  .lb-container {
    position: relative;
    z-index: 1;
    width: 100%;
    padding-inline: 1rem;
  }
  .lb-container--constrained {
    max-width: var(--page-width, 1320px);
    margin-inline: auto;
  }

  /* ===== Header ===== */
  .lb-header {
    margin-block-end: 2rem;
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
  }
  .lb-align--center {
    text-align: center;
  }
  .lb-align--center .lb-header {
    align-items: center;
  }
  .lb-align--start {
    text-align: start;
  }
  .lb-align--start .lb-header {
    align-items: flex-start;
  }
  .lb-align--end {
    text-align: end;
  }
  .lb-align--end .lb-header {
    align-items: flex-end;
  }

  .lb-heading {
    font-weight: 800;
    line-height: 1.2;
    letter-spacing: -0.02em;
    color: var(--lb-heading-color);
    margin: 0;
  }
  .lb-heading--sm {
    font-size: clamp(1.125rem, 2.5vw, 1.5rem);
  }
  .lb-heading--md {
    font-size: clamp(1.5rem, 3.5vw, 2.25rem);
  }
  .lb-heading--lg {
    font-size: clamp(1.75rem, 4vw, 3rem);
  }
  .lb-heading--xl {
    font-size: clamp(2rem, 5vw, 3.75rem);
  }

  .lb-subheading {
    font-size: clamp(0.875rem, 1.5vw, 1.125rem);
    color: var(--lb-sub-color);
    opacity: 0.8;
    line-height: 1.65;
    max-width: 600px;
    margin: 0;
  }
  .lb-align--center .lb-subheading {
    margin-inline: auto;
  }

  /* ===== Canvas ===== */
  .lb-canvas {
    position: relative;
    border-radius: var(--lb-corner);
    overflow: hidden;
  }
  .lb-canvas--small {
    max-height: 400px;
  }
  .lb-canvas--medium {
    max-height: 560px;
  }
  .lb-canvas--large {
    max-height: 750px;
  }
  .lb-image-wrap {
    position: relative;
    width: 100%;
  }
  .lb-image {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
    transition: transform 0.6s ease;
  }
  .lb-canvas:hover .lb-image {
    transform: scale(1.02);
  }
  .lb-placeholder {
    width: 100%;
    aspect-ratio: 16/9;
    background: linear-gradient(135deg, #f0f0f0 0%, #e0e0e0 100%);
    display: flex;
    align-items: center;
    justify-content: center;
  }
  .lb-placeholder__svg {
    width: 50%;
    height: 50%;
    opacity: 0.4;
  }
  .lb-overlay {
    position: absolute;
    inset: 0;
    background: #000;
    pointer-events: none;
  }

  /* ===== Hotspot ===== */
  .lb-hotspot {
    position: absolute;
    z-index: 3;
    transform: translate(-50%, -50%);
  }
  .lb-hotspot__btn {
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
    width: var(--lb-hotspot-size);
    height: var(--lb-hotspot-size);
    border-radius: 50%;
    border: 2px solid rgba(255, 255, 255, 0.6);
    background: var(--lb-hotspot-color);
    color: #fff;
    cursor: pointer;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.25);
  }
  .lb-hotspot__btn:hover {
    transform: scale(1.15);
    box-shadow: 0 6px 25px rgba(0, 0, 0, 0.35);
  }
  .lb-hotspot__btn:focus-visible {
    outline: 2px solid #fff;
    outline-offset: 3px;
  }
  .lb-hotspot__pulse {
    position: absolute;
    inset: -6px;
    border-radius: 50%;
    border: 2px solid var(--lb-hotspot-color);
    opacity: 0;
    animation: lb-pulse 2s ease-out infinite;
  }
  @keyframes lb-pulse {
    0% {
      transform: scale(0.8);
      opacity: 0.6;
    }
    100% {
      transform: scale(1.6);
      opacity: 0;
    }
  }
  .lb-hotspot__icon {
    flex-shrink: 0;
    transition: transform 0.3s ease;
  }
  .lb-hotspot[data-active='true'] .lb-hotspot__icon {
    transform: rotate(45deg);
  }

  /* ===== Product Card ===== */
  .lb-card {
    position: absolute;
    z-index: 4;
    width: 260px;
    opacity: 0;
    visibility: hidden;
    pointer-events: none;
    transform: translateY(8px);
    transition: opacity 0.3s ease, transform 0.3s ease, visibility 0.3s ease;
  }
  .lb-hotspot[data-active='true'] .lb-card {
    opacity: 1;
    visibility: visible;
    pointer-events: auto;
    transform: translateY(0);
  }

  /* Card position variants */
  .lb-card:not(.lb-card--top):not(.lb-card--left):not(.lb-card--right) {
    top: calc(100% + 12px);
    inset-inline-start: 50%;
    transform: translateX(-50%) translateY(8px);
  }
  .lb-hotspot[data-active='true'] .lb-card:not(.lb-card--top):not(.lb-card--left):not(.lb-card--right) {
    transform: translateX(-50%) translateY(0);
  }
  .lb-card--top {
    bottom: calc(100% + 12px);
    inset-inline-start: 50%;
    transform: translateX(-50%) translateY(-8px);
  }
  .lb-hotspot[data-active='true'] .lb-card--top {
    transform: translateX(-50%) translateY(0);
  }
  .lb-card--left {
    top: 50%;
    inset-inline-end: calc(100% + 12px);
    transform: translateY(-50%) translateX(-8px);
  }
  .lb-hotspot[data-active='true'] .lb-card--left {
    transform: translateY(-50%) translateX(0);
  }
  .lb-card--right {
    top: 50%;
    inset-inline-start: calc(100% + 12px);
    transform: translateY(-50%) translateX(8px);
  }
  .lb-hotspot[data-active='true'] .lb-card--right {
    transform: translateY(-50%) translateX(0);
  }

  /* Glass style */
  .lb-card--glass .lb-card__inner {
    background: rgba(255, 255, 255, 0.88);
    backdrop-filter: blur(16px);
    -webkit-backdrop-filter: blur(16px);
    border: 1px solid rgba(255, 255, 255, 0.5);
    border-radius: calc(var(--lb-corner) * 0.75);
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.12);
    overflow: hidden;
  }
  /* Solid style */
  .lb-card--solid .lb-card__inner {
    background: var(--color-background, #fff);
    border: 1px solid var(--color-border, #e5e7eb);
    border-radius: calc(var(--lb-corner) * 0.75);
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);
    overflow: hidden;
  }
  /* Minimal style */
  .lb-card--minimal .lb-card__inner {
    background: var(--color-background, #fff);
    border-radius: calc(var(--lb-corner) * 0.75);
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.08);
    overflow: hidden;
  }

  .lb-card__inner {
    display: flex;
    gap: 0;
  }
  .lb-card__img-wrap {
    flex: 0 0 90px;
    overflow: hidden;
  }
  .lb-card__img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.4s ease;
  }
  .lb-card:hover .lb-card__img {
    transform: scale(1.06);
  }
  .lb-card__info {
    flex: 1;
    padding: 0.875rem;
    display: flex;
    flex-direction: column;
    gap: 0.25rem;
    min-width: 0;
  }
  .lb-card__title {
    font-size: 0.8125rem;
    font-weight: 600;
    color: var(--color-foreground, #1a1a1a);
    line-height: 1.3;
    margin: 0;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }
  .lb-card__price {
    font-size: 0.8125rem;
    font-weight: 700;
    color: var(--color-foreground, #1a1a1a);
    display: flex;
    align-items: center;
    gap: 0.375rem;
  }
  .lb-card__price--sale {
    color: var(--color-error, #dc3545);
  }
  .lb-card__price--compare {
    text-decoration: line-through;
    opacity: 0.5;
    font-weight: 400;
    font-size: 0.75rem;
  }
  .lb-card__link {
    display: inline-flex;
    align-items: center;
    gap: 0.25rem;
    font-size: 0.75rem;
    font-weight: 600;
    color: var(--color-primary, #1a2744);
    margin-block-start: 0.125rem;
    transition: gap 0.25s ease, color 0.25s ease;
  }
  .lb-card__link:hover {
    gap: 0.5rem;
  }
  [dir='rtl'] .lb-card__link svg {
    transform: scaleX(-1);
  }

  /* ===== Text Label Block ===== */
  .lb-label {
    position: absolute;
    z-index: 3;
    transform: translate(-50%, -50%);
    pointer-events: none;
  }
  .lb-label__text {
    display: inline-block;
    padding: 0.375rem 0.875rem;
    background: rgba(255, 255, 255, 0.9);
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
    border-radius: 20px;
    font-size: 0.75rem;
    font-weight: 600;
    color: var(--color-foreground, #1a1a1a);
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    white-space: nowrap;
  }

  /* ===== CTA ===== */
  .lb-cta {
    margin-block-start: 1.5rem;
  }

  /* ===== Tablet ===== */
  @media (max-width: 1023px) {
    .lb-container {
      padding-inline: 1.25rem;
    }
    .lb-card {
      width: 230px;
    }
    .lb-card__img-wrap {
      flex: 0 0 75px;
    }
  }

  /* ===== Mobile ===== */
  @media (max-width: 639px) {
    .lb-section {
      padding-block-start: calc(var(--lb-pt) * 0.65);
      padding-block-end: calc(var(--lb-pb) * 0.65);
    }
    .lb-header {
      margin-block-end: 1.25rem;
    }
    .lb-canvas {
      border-radius: calc(var(--lb-corner) * 0.6);
    }
    .lb-card {
      width: 200px;
    }
    .lb-card__img-wrap {
      flex: 0 0 65px;
    }
    .lb-card__info {
      padding: 0.625rem;
    }
    .lb-card__title {
      font-size: 0.75rem;
    }
    .lb-card__price {
      font-size: 0.75rem;
    }
    .lb-hotspot__btn {
      width: calc(var(--lb-hotspot-size) * 0.8);
      height: calc(var(--lb-hotspot-size) * 0.8);
    }
  }

  /* ===== Large ===== */
  @media (min-width: 1280px) {
    .lb-container {
      padding-inline: 2rem;
    }
  }

  /* ===== Print ===== */
  @media print {
    .lb-section {
      break-inside: avoid;
    }
    .lb-hotspot__pulse,
    .lb-decor {
      display: none;
    }
  }
</style>

{%- comment -%} ── Script ── {%- endcomment -%}
<script>
  (function () {
    const section = document.getElementById('lookbook-{{ section.id }}');
    if (!section) return;
    const hotspots = section.querySelectorAll('.lb-hotspot');

    function closeAll(except) {
      hotspots.forEach((h) => {
        if (h !== except) {
          h.removeAttribute('data-active');
          h.querySelector('.lb-hotspot__btn')?.setAttribute('aria-expanded', 'false');
        }
      });
    }

    hotspots.forEach((h) => {
      const btn = h.querySelector('.lb-hotspot__btn');
      if (!btn) return;
      btn.addEventListener('click', (e) => {
        e.stopPropagation();
        const isActive = h.getAttribute('data-active') === 'true';
        closeAll(h);
        if (isActive) {
          h.removeAttribute('data-active');
          btn.setAttribute('aria-expanded', 'false');
        } else {
          h.setAttribute('data-active', 'true');
          btn.setAttribute('aria-expanded', 'true');
        }
      });
    });

    document.addEventListener('click', () => closeAll());
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') closeAll();
    });
  })();
</script>

{% schema %}
{
  "name": "t:sections.lookbook.name",
  "tag": "section",
  "class": "section-lookbook",
  "max_blocks": 15,
  "settings": [
    {
      "type": "color_scheme",
      "id": "color_scheme",
      "label": "t:sections.all.colors.label",
      "default": "scheme-1"
    },
    {
      "type": "header",
      "content": "المحتوى"
    },
    {
      "type": "text",
      "id": "heading",
      "label": "العنوان",
      "default": "تسوق الإطلالة"
    },
    {
      "type": "textarea",
      "id": "subheading",
      "label": "العنوان الفرعي",
      "default": "اكتشف المنتجات المميزة في هذه الإطلالة واحصل عليها بنقرة واحدة"
    },
    {
      "type": "image_picker",
      "id": "image",
      "label": "t:sections.lookbook.settings.image.label"
    },
    {
      "type": "text",
      "id": "button_text",
      "label": "نص الزر"
    },
    {
      "type": "url",
      "id": "button_link",
      "label": "رابط الزر"
    },
    {
      "type": "header",
      "content": "التخطيط"
    },
    {
      "type": "select",
      "id": "layout",
      "label": "نمط التخطيط",
      "options": [
        { "value": "full_image", "label": "صورة كاملة" },
        { "value": "contained", "label": "محتوى محاط" }
      ],
      "default": "full_image"
    },
    {
      "type": "select",
      "id": "text_alignment",
      "label": "محاذاة النص",
      "options": [
        { "value": "start", "label": "بداية" },
        { "value": "center", "label": "وسط" },
        { "value": "end", "label": "نهاية" }
      ],
      "default": "center"
    },
    {
      "type": "select",
      "id": "heading_size",
      "label": "حجم العنوان",
      "options": [
        { "value": "small", "label": "صغير" },
        { "value": "medium", "label": "متوسط" },
        { "value": "large", "label": "كبير" },
        { "value": "xlarge", "label": "كبير جداً" }
      ],
      "default": "medium"
    },
    {
      "type": "select",
      "id": "image_height",
      "label": "ارتفاع الصورة",
      "options": [
        { "value": "auto", "label": "تلقائي" },
        { "value": "small", "label": "صغير" },
        { "value": "medium", "label": "متوسط" },
        { "value": "large", "label": "كبير" }
      ],
      "default": "auto"
    },
    {
      "type": "checkbox",
      "id": "full_width",
      "label": "عرض كامل",
      "default": false
    },
    {
      "type": "header",
      "content": "نقاط المنتجات"
    },
    {
      "type": "select",
      "id": "card_style",
      "label": "نمط بطاقة المنتج",
      "options": [
        { "value": "glass", "label": "زجاجي" },
        { "value": "solid", "label": "صلب" },
        { "value": "minimal", "label": "بسيط" }
      ],
      "default": "glass"
    },
    {
      "type": "select",
      "id": "hotspot_size",
      "label": "حجم النقطة",
      "options": [
        { "value": "small", "label": "صغير" },
        { "value": "medium", "label": "متوسط" },
        { "value": "large", "label": "كبير" }
      ],
      "default": "medium"
    },
    {
      "type": "color",
      "id": "hotspot_color",
      "label": "لون النقطة"
    },
    {
      "type": "header",
      "content": "المظهر"
    },
    {
      "type": "range",
      "id": "overlay_opacity",
      "label": "شفافية الطبقة المعتمة",
      "default": 0,
      "min": 0,
      "max": 80,
      "step": 5,
      "unit": "%"
    },
    {
      "type": "range",
      "id": "corner_radius",
      "label": "انحناء الزوايا",
      "default": 16,
      "min": 0,
      "max": 40,
      "step": 2,
      "unit": "px"
    },
    {
      "type": "checkbox",
      "id": "show_decoration",
      "label": "إظهار الأشكال الزخرفية",
      "default": false
    },
    {
      "type": "header",
      "content": "الألوان"
    },
    {
      "type": "color",
      "id": "background_color",
      "label": "لون الخلفية"
    },
    {
      "type": "color",
      "id": "heading_color",
      "label": "لون العنوان"
    },
    {
      "type": "color",
      "id": "subheading_color",
      "label": "لون العنوان الفرعي"
    },
    {
      "type": "header",
      "content": "t:sections.all.padding.section_padding_heading"
    },
    {
      "type": "range",
      "id": "padding_top",
      "label": "t:sections.all.padding.padding_top",
      "default": 60,
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px"
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "label": "t:sections.all.padding.padding_bottom",
      "default": 60,
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px"
    }
  ],
  "blocks": [
    {
      "type": "product_hotspot",
      "name": "t:sections.lookbook.blocks.product_hotspot.name",
      "settings": [
        {
          "type": "product",
          "id": "product",
          "label": "المنتج"
        },
        {
          "type": "range",
          "id": "position_x",
          "label": "t:sections.lookbook.settings.position_x.label",
          "default": 50,
          "min": 5,
          "max": 95,
          "step": 1,
          "unit": "%"
        },
        {
          "type": "range",
          "id": "position_y",
          "label": "t:sections.lookbook.settings.position_y.label",
          "default": 50,
          "min": 5,
          "max": 95,
          "step": 1,
          "unit": "%"
        },
        {
          "type": "select",
          "id": "card_position",
          "label": "موضع البطاقة",
          "options": [
            { "value": "bottom", "label": "أسفل" },
            { "value": "top", "label": "أعلى" },
            { "value": "left", "label": "يسار" },
            { "value": "right", "label": "يمين" }
          ],
          "default": "bottom"
        }
      ]
    },
    {
      "type": "text_label",
      "name": "تسمية نصية",
      "settings": [
        {
          "type": "text",
          "id": "label_text",
          "label": "النص",
          "default": "منتج مميز"
        },
        {
          "type": "range",
          "id": "position_x",
          "label": "الموضع الأفقي",
          "default": 50,
          "min": 5,
          "max": 95,
          "step": 1,
          "unit": "%"
        },
        {
          "type": "range",
          "id": "position_y",
          "label": "الموضع الرأسي",
          "default": 50,
          "min": 5,
          "max": 95,
          "step": 1,
          "unit": "%"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "t:sections.lookbook.name",
      "blocks": [
        {
          "type": "product_hotspot",
          "settings": {
            "position_x": 30,
            "position_y": 40
          }
        },
        {
          "type": "product_hotspot",
          "settings": {
            "position_x": 65,
            "position_y": 55
          }
        }
      ]
    }
  ]
}
{% endschema %}
