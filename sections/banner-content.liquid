{%- comment -%}
  Banner Content Section - بانر مع محتوى
  Image + Content side by side with CTA button
  RTL layout with Arabic labels - Following Sallety Theme Patterns
{%- endcomment -%}

{%- liquid
  # Color scheme class (uses CSS classes from theme.liquid)
  assign scheme_number = section.settings.color_scheme.id | remove: 'scheme-'

  # Typography - Responsive sizes
  assign heading_size_desktop = section.settings.heading_size_desktop | default: 36
  assign heading_size_tablet = section.settings.heading_size_tablet | default: 30
  assign heading_size_mobile = section.settings.heading_size_mobile | default: 26
  assign body_size_desktop = section.settings.body_size_desktop | default: 18
  assign body_size_tablet = section.settings.body_size_tablet | default: 16
  assign body_size_mobile = section.settings.body_size_mobile | default: 15

  # Typography - Weights
  assign heading_weight = section.settings.heading_weight | default: '700'
  assign body_weight = section.settings.body_weight | default: '400'

  # Section settings
  assign image = section.settings.image
  assign heading = section.settings.heading
  assign description = section.settings.description
  assign button_text_content = section.settings.button_text
  assign button_link = section.settings.button_link
  assign button_style = section.settings.button_style | default: 'primary'
  assign layout = section.settings.layout | default: 'image-right'
  assign content_alignment = section.settings.content_alignment | default: 'center'
  assign image_border_radius = section.settings.image_border_radius | default: 16
  assign show_shapes = section.settings.show_shapes

  # Padding settings
  assign padding_top = section.settings.padding_top | default: 60
  assign padding_bottom = section.settings.padding_bottom | default: 60

  # Layout order for RTL
  if layout == 'image-right'
    assign image_order = 'order-1 lg:order-2'
    assign content_order = 'order-2 lg:order-1'
  else
    assign image_order = 'order-1'
    assign content_order = 'order-2'
  endif
-%}

{%- capture section_dir -%}{%- render 'section-dir' -%}{%- endcapture -%}
<section
  class="banner-content-section color-scheme-{{ scheme_number }} relative overflow-hidden"
  dir="{{ section_dir }}"
  style="
    --content-image-radius: {{ image_border_radius }}px;
    --content-heading-desktop: {{ heading_size_desktop }}px;
    --content-heading-tablet: {{ heading_size_tablet }}px;
    --content-heading-mobile: {{ heading_size_mobile }}px;
    --content-body-desktop: {{ body_size_desktop }}px;
    --content-body-tablet: {{ body_size_tablet }}px;
    --content-body-mobile: {{ body_size_mobile }}px;
    --content-heading-weight: {{ heading_weight }};
    --content-body-weight: {{ body_weight }};
    --content-padding-top: {{ padding_top }}px;
    --content-padding-bottom: {{ padding_bottom }}px;
    font-family: var(--font-body-family);
    padding-top: var(--content-padding-top);
    padding-bottom: var(--content-padding-bottom);
  "
>
  <!-- Decorative Parallax Shapes -->
  {%- if show_shapes -%}
    <div class="content-shapes" aria-hidden="true">
      <div class="content-shape content-shape-1"></div>
      <div class="content-shape content-shape-2"></div>
      <div class="content-shape content-shape-3"></div>
      <div class="content-shape content-shape-4"></div>
      <div class="content-shape content-shape-5"></div>
      <div class="content-shape content-shape-6"></div>
    </div>
  {%- endif -%}

  <div class="max-w-[1400px] mx-auto px-4 sm:px-6 lg:px-16 relative z-10">
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 sm:gap-10 lg:gap-16 items-center">
      <!-- Image Column -->
      <div class="{{ image_order }} animate-on-scroll aos-fade-right">
        <div
          class="content-image-wrapper relative rounded-2xl overflow-hidden"
          style="border-radius: var(--content-image-radius);"
        >
          {%- if image != blank -%}
            <img
              src="{{ image | image_url: width: 1200 }}"
              srcset="
                {{ image | image_url: width: 400 }} 400w,
                {{ image | image_url: width: 800 }} 800w,
                {{ image | image_url: width: 1200 }} 1200w
              "
              sizes="(max-width: 1023px) 100vw, 50vw"
              alt="{{ image.alt | default: heading | default: 'Banner image' }}"
              class="content-image w-full h-auto object-cover"
              loading="lazy"
              width="{{ image.width }}"
              height="{{ image.height }}"
            >
          {%- else -%}
            <div
              class="content-placeholder aspect-[4/3] w-full flex items-center justify-center"
              style="background-color: #f3f4f6;"
            >
              {{ 'lifestyle-1' | placeholder_svg_tag: 'placeholder-svg' }}
            </div>
          {%- endif -%}
        </div>
      </div>

      <!-- Content Column -->
      <div class="{{ content_order }} animate-on-scroll aos-fade-left" data-aos-delay="200">
        <div class="content-text-wrapper text-{{ content_alignment }}">
          {%- if heading != blank -%}
            <h2
              class="content-heading m-0 mb-4 sm:mb-5 leading-tight"
              style="color: var(--color-text); font-weight: var(--content-heading-weight);"
            >
              {{ heading }}
            </h2>
          {%- endif -%}

          {%- if description != blank -%}
            <div
              class="content-description mb-6 sm:mb-8"
              style="color: var(--color-secondary-text); font-weight: var(--content-body-weight);"
            >
              {{ description }}
            </div>
          {%- endif -%}

          {%- if button_text_content != blank and button_link != blank -%}
            <a
              href="{{ button_link }}"
              class="content-button content-button--{{ button_style }} inline-flex items-center gap-2"
            >
              <span>{{ button_text_content }}</span>
              <svg
                class="w-5 h-5 rtl:rotate-180"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
              >
                <path d="M5 12h14M12 5l7 7-7 7"/>
              </svg>
            </a>
          {%- endif -%}
        </div>
      </div>
    </div>
  </div>
</section>

<style>
  /* Banner Content Section Styles */
  .banner-content-section {
    position: relative;
  }

  /* Image Styles */
  .content-image-wrapper {
    box-shadow: 0 20px 50px rgba(0, 0, 0, 0.15);
    transition: all 0.4s ease;
  }

  .content-image-wrapper:hover {
    box-shadow: 0 30px 70px rgba(0, 0, 0, 0.2);
    transform: translateY(-5px);
  }

  .content-image {
    transition: transform 0.6s ease;
  }

  .content-image-wrapper:hover .content-image {
    transform: scale(1.03);
  }

  /* Typography - Responsive */
  .content-heading {
    font-size: var(--content-heading-desktop);
  }

  .content-description {
    font-size: var(--content-body-desktop);
    line-height: 1.8;
  }

  .content-description p {
    margin: 0 0 1em;
  }

  .content-description p:last-child {
    margin-bottom: 0;
  }

  @media (max-width: 1023px) {
    .content-heading {
      font-size: var(--content-heading-tablet);
    }
    .content-description {
      font-size: var(--content-body-tablet);
    }
  }

  @media (max-width: 767px) {
    .content-heading {
      font-size: var(--content-heading-mobile);
    }
    .content-description {
      font-size: var(--content-body-mobile);
    }
  }

  /* Text Alignment */
  .text-center .content-button {
    justify-content: center;
  }

  /* Button Styles - Using global button settings */
  .content-button {
    display: inline-flex;
    align-items: center;
    gap: 10px;
    padding: var(--button-padding-vertical, 14px) var(--button-padding-horizontal, 32px);
    border-radius: var(--button-border-radius, 50px);
    font-size: var(--button-font-size, 16px);
    font-weight: var(--button-font-weight, 600);
    text-decoration: none;
    transition: all var(--button-transition-duration, 300ms) ease;
    cursor: pointer;
    border: var(--button-border-thickness, 2px) solid transparent;
    position: relative;
    overflow: hidden;
  }

  /* Hover shine effect */
  .content-button::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
    transition: left 0.5s ease;
  }

  .content-button:hover::before {
    left: 100%;
  }

  .content-button--primary {
    background-color: var(--color-button);
    color: var(--color-button-label);
    border-color: var(--color-button);
  }

  .content-button--primary:hover {
    transform: translateY(-3px);
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
    filter: brightness(1.1);
  }

  .content-button--secondary {
    background-color: transparent;
    color: var(--color-text);
    border-color: var(--color-text);
  }

  .content-button--secondary:hover {
    background-color: var(--color-text);
    color: var(--color-background);
    transform: translateY(-3px);
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
  }

  .content-button--outline {
    background-color: transparent;
    color: var(--color-accent);
    border-color: var(--color-accent);
  }

  .content-button--outline:hover {
    background-color: var(--color-accent);
    color: var(--color-background);
    transform: translateY(-3px);
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
  }

  @media (max-width: 1023px) {
    .content-button {
      font-size: var(--button-font-size-tablet, 15px);
    }
  }

  @media (max-width: 767px) {
    .content-button {
      padding: calc(var(--button-padding-vertical, 14px) * 0.85) calc(var(--button-padding-horizontal, 32px) * 0.85);
      font-size: var(--button-font-size-mobile, 14px);
      width: 100%;
      justify-content: center;
    }
  }

  @media (prefers-reduced-motion: reduce) {
    .content-button::before {
      display: none;
    }
  }

  /* Decorative Shapes */
  .content-shapes {
    position: absolute;
    inset: 0;
    pointer-events: none;
    overflow: hidden;
    z-index: 0;
  }

  .content-shape {
    position: absolute;
    border-radius: 50%;
    opacity: 0.06;
  }

  .content-shape-1 {
    width: 300px;
    height: 300px;
    background: linear-gradient(135deg, var(--color-accent), var(--color-text));
    top: -100px;
    right: -50px;
    animation: contentFloat1 16s ease-in-out infinite;
  }

  .content-shape-2 {
    width: 150px;
    height: 150px;
    background: var(--color-accent);
    bottom: 10%;
    left: -40px;
    animation: contentFloat2 13s ease-in-out infinite;
  }

  .content-shape-3 {
    width: 80px;
    height: 80px;
    background: var(--color-text);
    top: 40%;
    left: 15%;
    animation: contentPulse 9s ease-in-out infinite;
  }

  .content-shape-4 {
    width: 120px;
    height: 120px;
    border: 2px solid var(--color-accent);
    background: transparent;
    top: 15%;
    left: 45%;
    animation: contentRotate 22s linear infinite;
  }

  .content-shape-5 {
    width: 60px;
    height: 60px;
    background: var(--color-accent);
    bottom: 30%;
    right: 10%;
    animation: contentFloat1 11s ease-in-out infinite reverse;
  }

  .content-shape-6 {
    width: 200px;
    height: 200px;
    border: 1px solid var(--color-accent);
    background: transparent;
    bottom: -60px;
    right: 30%;
    animation: contentRotate 28s linear infinite reverse;
  }

  @keyframes contentFloat1 {
    0%,
    100% {
      transform: translate(0, 0) scale(1);
    }
    50% {
      transform: translate(-25px, 35px) scale(1.05);
    }
  }

  @keyframes contentFloat2 {
    0%,
    100% {
      transform: translate(0, 0);
    }
    50% {
      transform: translate(30px, -25px);
    }
  }

  @keyframes contentPulse {
    0%,
    100% {
      transform: scale(1);
      opacity: 0.06;
    }
    50% {
      transform: scale(1.3);
      opacity: 0.1;
    }
  }

  @keyframes contentRotate {
    from {
      transform: rotate(0deg);
    }
    to {
      transform: rotate(360deg);
    }
  }

  /* Responsive Shapes */
  @media (max-width: 1023px) {
    .content-shape-1 {
      width: 200px;
      height: 200px;
    }
    .content-shape-4 {
      display: none;
    }
    .content-shape-6 {
      display: none;
    }
  }

  @media (max-width: 767px) {
    .content-shape-1 {
      width: 150px;
      height: 150px;
    }
    .content-shape-2 {
      width: 100px;
      height: 100px;
    }
    .content-shape-3 {
      display: none;
    }
    .content-shape-5 {
      display: none;
    }
  }

  /* Mobile Layout - Content First */
  @media (max-width: 1023px) {
    .order-1 {
      order: 2;
    }
    .order-2 {
      order: 1;
    }

    .content-text-wrapper {
      text-align: center;
    }
  }

  /* Reduced Motion */
  @media (prefers-reduced-motion: reduce) {
    .content-shape {
      animation: none !important;
    }
    .content-image-wrapper:hover {
      transform: none;
    }
    .content-image {
      transition: none;
    }
    .content-button {
      transition: none;
    }
    .content-button:hover {
      transform: none;
    }
  }
</style>

{% schema %}
{
  "name": "t:sections.banner_content.name",
  "tag": "section",
  "class": "section-banner-content",
  "disabled_on": {
    "groups": ["header", "footer"]
  },
  "settings": [
    {
      "type": "color_scheme",
      "id": "color_scheme",
      "label": "t:sections.banner_content.settings.color_scheme.label",
      "default": "scheme-1"
    },
    {
      "type": "header",
      "content": "t:sections.banner_content.settings.header.content"
    },
    {
      "type": "image_picker",
      "id": "image",
      "label": "t:sections.banner_content.settings.image.label",
      "info": "t:sections.banner_content.settings.image.info"
    },
    {
      "type": "range",
      "id": "image_border_radius",
      "label": "t:sections.banner_content.settings.image_border_radius.label",
      "default": 16,
      "min": 0,
      "max": 32,
      "step": 2,
      "unit": "px"
    },
    {
      "type": "header",
      "content": "t:sections.banner_content.settings.header.content"
    },
    {
      "type": "text",
      "id": "heading",
      "label": "t:sections.banner_content.settings.heading.label",
      "default": "عنوان جذاب للقسم"
    },
    {
      "type": "richtext",
      "id": "description",
      "label": "t:sections.banner_content.settings.description.label",
      "default": "<p>اكتب وصفاً مميزاً يجذب انتباه العملاء ويشرح لهم مميزات منتجاتك أو خدماتك بشكل واضح ومختصر.</p>"
    },
    {
      "type": "header",
      "content": "t:sections.banner_content.settings.header.content"
    },
    {
      "type": "text",
      "id": "button_text",
      "label": "t:sections.banner_content.settings.button_text.label",
      "default": "تسوق الآن"
    },
    {
      "type": "url",
      "id": "button_link",
      "label": "t:sections.banner_content.settings.button_link.label"
    },
    {
      "type": "select",
      "id": "button_style",
      "label": "t:sections.banner_content.settings.button_style.label",
      "default": "primary",
      "options": [
        {
          "value": "primary",
          "label": "t:sections.banner_content.settings.button_style.options.primary"
        },
        {
          "value": "secondary",
          "label": "t:sections.banner_content.settings.button_style.options.secondary"
        },
        {
          "value": "outline",
          "label": "t:sections.banner_content.settings.button_style.options.outline"
        }
      ]
    },
    {
      "type": "header",
      "content": "t:sections.banner_content.settings.header.content"
    },
    {
      "type": "select",
      "id": "layout",
      "label": "t:sections.banner_content.settings.layout.label",
      "default": "image-right",
      "options": [
        {
          "value": "image-right",
          "label": "t:sections.banner_content.settings.layout.options.image-right"
        },
        {
          "value": "image-left",
          "label": "t:sections.banner_content.settings.layout.options.image-left"
        }
      ]
    },
    {
      "type": "select",
      "id": "content_alignment",
      "label": "t:sections.banner_content.settings.content_alignment.label",
      "default": "right",
      "options": [
        {
          "value": "right",
          "label": "t:sections.banner_content.settings.content_alignment.options.right"
        },
        {
          "value": "center",
          "label": "t:sections.banner_content.settings.content_alignment.options.center"
        },
        {
          "value": "left",
          "label": "t:sections.banner_content.settings.content_alignment.options.left"
        }
      ]
    },
    {
      "type": "header",
      "content": "t:sections.banner_content.settings.header.content"
    },
    {
      "type": "header",
      "content": "t:sections.banner_content.settings.header.content"
    },
    {
      "type": "checkbox",
      "id": "show_shapes",
      "label": "t:sections.banner_content.settings.show_shapes.label",
      "default": true,
      "info": "t:sections.banner_content.settings.show_shapes.info"
    },
    {
      "type": "header",
      "content": "t:sections.banner_content.settings.header.content"
    },
    {
      "type": "range",
      "id": "heading_size_desktop",
      "label": "t:sections.banner_content.settings.heading_size_desktop.label",
      "default": 36,
      "min": 28,
      "max": 56,
      "step": 2,
      "unit": "px"
    },
    {
      "type": "range",
      "id": "body_size_desktop",
      "label": "t:sections.banner_content.settings.body_size_desktop.label",
      "default": 18,
      "min": 14,
      "max": 24,
      "step": 1,
      "unit": "px"
    },
    {
      "type": "header",
      "content": "t:sections.banner_content.settings.header.content"
    },
    {
      "type": "range",
      "id": "heading_size_tablet",
      "label": "t:sections.banner_content.settings.heading_size_tablet.label",
      "default": 30,
      "min": 24,
      "max": 44,
      "step": 2,
      "unit": "px"
    },
    {
      "type": "range",
      "id": "body_size_tablet",
      "label": "t:sections.banner_content.settings.body_size_tablet.label",
      "default": 16,
      "min": 13,
      "max": 20,
      "step": 1,
      "unit": "px"
    },
    {
      "type": "header",
      "content": "t:sections.banner_content.settings.header.content"
    },
    {
      "type": "range",
      "id": "heading_size_mobile",
      "label": "t:sections.banner_content.settings.heading_size_mobile.label",
      "default": 26,
      "min": 20,
      "max": 36,
      "step": 2,
      "unit": "px"
    },
    {
      "type": "range",
      "id": "body_size_mobile",
      "label": "t:sections.banner_content.settings.body_size_mobile.label",
      "default": 15,
      "min": 13,
      "max": 18,
      "step": 1,
      "unit": "px"
    },
    {
      "type": "header",
      "content": "t:sections.banner_content.settings.header.content"
    },
    {
      "type": "select",
      "id": "heading_weight",
      "label": "t:sections.banner_content.settings.heading_weight.label",
      "default": "700",
      "options": [
        {
          "value": "400",
          "label": "t:sections.banner_content.settings.heading_weight.options.400"
        },
        {
          "value": "500",
          "label": "t:sections.banner_content.settings.heading_weight.options.500"
        },
        {
          "value": "600",
          "label": "t:sections.banner_content.settings.heading_weight.options.600"
        },
        {
          "value": "700",
          "label": "t:sections.banner_content.settings.heading_weight.options.700"
        },
        {
          "value": "800",
          "label": "t:sections.banner_content.settings.heading_weight.options.800"
        }
      ]
    },
    {
      "type": "select",
      "id": "body_weight",
      "label": "t:sections.banner_content.settings.body_weight.label",
      "default": "400",
      "options": [
        {
          "value": "400",
          "label": "t:sections.banner_content.settings.body_weight.options.400"
        },
        {
          "value": "500",
          "label": "t:sections.banner_content.settings.body_weight.options.500"
        },
        {
          "value": "600",
          "label": "t:sections.banner_content.settings.body_weight.options.600"
        }
      ]
    },
    {
      "type": "header",
      "content": "t:sections.banner_content.settings.header.content"
    },
    {
      "type": "range",
      "id": "padding_top",
      "label": "t:sections.banner_content.settings.padding_top.label",
      "default": 60,
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px"
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "label": "t:sections.banner_content.settings.padding_bottom.label",
      "default": 60,
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px"
    }
  ],
  "presets": [
    {
      "name": "t:sections.banner_content.name"
    }
  ]
}
{% endschema %}
